{"version":3,"sources":["main.js"],"names":["app","PIXI","Application","view","document","getElementById","manifest","explosionSequence","penguins","didWin","loadAssets","loader","add","load","onAssetsLoaded","resources","console","log","addExplosionAnim","setupGame","ticker","e","update","tex","explosion","textures","push","addCircusBalls","ball","Sprite","texture","x","y","anchor","stage","addChild","ball2","scale","set","interactive","buttonMode","on","rotateBalls","children","rotation","addExplodingBall","explodeOnTouch","boom","extras","AnimatedSprite","loop","data","global","onComplete","onExplodeComplete","play","removeChild","i","newPenguin","penguin","Math","random","exploded","explodePenguin","popCycle","peng","visible","checkForWin","length","alert","setTimeout","window","onload"],"mappings":"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","file":"main.js","sourcesContent":["let app = new PIXI.Application({\n\tview: document.getElementById(\"pixiCanvas\")\n});\n\nlet manifest = [\n\t{\"key\" : \"ball\", \"url\" : \"dist/img/logo.png\"},\n\t{\"key\" : \"explosion\", \"url\" : \"dist/img/explosion.json\"},\n\t{\"key\" : \"penguin\", \"url\" : \"dist/img/penguin_pixeled.png\"}\n];\n\nlet explosionSequence = [];\nlet penguins = [];\nlet didWin = false;\n\nfunction loadAssets() {\n\t// app.loader.add(\"ball\", \"dist/img/logo.png\");\n\n\tapp.loader.add(manifest);\n\n\tapp.loader.load(onAssetsLoaded);\n}\n\nfunction onAssetsLoaded(loader, resources) {\n\tconsole.log(resources);\n\n\t// addCircusBalls(resources);\n\n\t// generate array of textures for explosion\n\taddExplosionAnim(resources);\n\n\t// addExplodingBall(resources);\n\n\tsetupGame(resources);\n\n\tapp.ticker.add((e) => update(e));\n}\n\nfunction addExplosionAnim(resources) {\n\tfor (let tex in resources.explosion.textures) {\n\t\texplosionSequence.push(resources.explosion.textures[tex]);\n\t}\n}\n\n/*****************************\n\tsprite examples\n*****************************/\n\nfunction addCircusBalls(resources) {\n\tlet ball = new PIXI.Sprite(resources.ball.texture);\n\tball.x = 400;\n\tball.y = 300;\n\tball.anchor.x = ball.anchor.y = 0.5;\n\tapp.stage.addChild(ball);\n\n\tlet ball2 = new PIXI.Sprite(resources.ball.texture);\n\tball2.anchor.x = -1.5;\n\tball2.anchor.y = 0.5;\n\tball2.scale.set(0.5);\n\tball.addChild(ball2);\n\n\tball.interactive = true;\n\tball.buttonMode = true;\n\tball.on(\"pointerdown\", function(e) {\n\t\tconsole.log(e);\n\n\t\t// let ball = new PIXI.Sprite(resources.ball.texture);\n\t\t// ball.x = e.data.global.x;\n\t\t// ball.y = e.data.global.y;\n\t\t// ball.anchor.x = ball.anchor.y = 0.5;\n\t\t// app.stage.addChild(ball);\n\t});\n}\n\nfunction rotateBalls() {\n\t// app.stage.children[0].x += 1;\n\tapp.stage.children[0].rotation += 0.02;\n\tapp.stage.children[0].children[0].rotation -= 0.03;\n}\n\n/*****************************\n\tspritesheet animation example\n*****************************/\n\nfunction addExplodingBall(resources) {\n\tlet ball = new PIXI.Sprite(resources.ball.texture);\n\tball.x = 400;\n\tball.y = 300;\n\tball.anchor.x = ball.anchor.y = 0.5;\n\n\tball.interactive = true;\n\tball.on(\"pointerdown\", explodeOnTouch);\n\n\tapp.stage.addChild(ball);\n}\n\nfunction explodeOnTouch(e) {\n\tlet boom = new PIXI.extras.AnimatedSprite(explosionSequence);\n\n\tapp.stage.addChild(boom);\n\tboom.loop = false;\n\tboom.anchor.x = boom.anchor.y = 0.5;\n\tboom.x = e.data.global.x;\n\tboom.y = e.data.global.y;\n\n\tboom.onComplete = () => onExplodeComplete(boom);\n\tboom.play();\n}\n\nfunction onExplodeComplete(boom) {\n\tapp.stage.removeChild(boom);\n}\n\n/*****************************\n\twhack a mole game\n*****************************/\n\nfunction setupGame(resources) {\n\n\tfor (let i = 0; i < 10; i++) {\n\t\tlet newPenguin = new PIXI.Sprite(resources.penguin.texture);\n\t\tnewPenguin.x = 50 + (Math.random() * 700);\n\t\tnewPenguin.y = 50 + (Math.random() * 500);\n\t\tnewPenguin.interactive = true;\n\t\tnewPenguin.exploded = false;\n\t\tnewPenguin.on(\"pointerdown\", (e) => explodePenguin(e, newPenguin));\n\n\t\tpenguins.push(newPenguin);\n\n\t\tapp.stage.addChild(newPenguin);\n\t}\n\n\t// begin game loop\n\tpopCycle();\n}\n\nfunction explodePenguin(e, peng) {\n\tconsole.log(peng);\n\n\t// disable penguin\n\tpeng.visible = false;\n\tpeng.exploded = true;\n\tlet boom = new PIXI.extras.AnimatedSprite(explosionSequence);\n\n\tapp.stage.addChild(boom);\n\tboom.loop = false;\n\tboom.anchor.x = boom.anchor.y = 0.5;\n\tboom.x = e.data.global.x;\n\tboom.y = e.data.global.y;\n\n\tboom.onComplete = checkForWin;\n\tboom.play();\n}\n\nfunction checkForWin() {\n\tfor (let i = 0; i < penguins.length; i++) {\n\t\tif (penguins[i].exploded === false) {\n\t\t\t// found an unexploded penguin, exit\n\t\t\treturn;\n\t\t}\n\t}\n\n\tdidWin = true;\n\talert(\"You win!\");\n}\n\nfunction popCycle() {\n\tif (didWin) {\n\t\treturn;\n\t}\n\n\tfor (let i = 0; i < penguins.length; i++) {\n\t\tif (penguins[i].exploded === true) {\n\t\t\tcontinue;\n\t\t} else if (Math.random() > 0.5) {\n\t\t\tpenguins[i].visible = true;\n\t\t} else {\n\t\t\tpenguins[i].visible = false;\n\t\t}\n\t}\n\n\tsetTimeout(popCycle, 1000);\n}\n\nfunction update(e) {\n\t// rotateBalls();\n}\n\nwindow.onload = function() {\n\t\n\n\tloadAssets();\n}"]}